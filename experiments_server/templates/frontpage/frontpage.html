{% extends "layout.html" %}
{% block title %}
{% endblock %}
{% block body %}


<h2>Create a New Experiment Series</h2>
<form action="/api/experiment_series" method="POST">
    <input id="new-experiment-input" type="text" placeholder="Unique Experiment Series Name" name="experiment_series_name" required>
    <button id="new-experiment-button">Create A New Experiment Series</button>
</form>

<h2>Previous Experiment Series</h2>
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th># Experiments</th>
            <th>Max Time</th>
            <th>Force Type</th>
            <th>Initial Force Y</th>
            <th>Final Force Y</th>
            <th>Initial Force X</th>
            <th>Final Force X</th>
            <th>Strands</th>
            <th>Layers</th>
            <th>Radius</th>
            <th>Pitch</th>
            <th>Material Thickness</th>
            <th>Weight (kg)</th>
            <th>Height (m)</th>
            <th>Image</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
    {% for series in experiment_series %}
        <tr>
            <td><a href="/experiments/{{ series.experiment_series_name }}">{{ series.experiment_series_name }}</a></td>
            <td>{{ series.description }}</td>
            <td>{{ series.num_experiments }}</td>
            <td>{{ series.max_simulation_time }}</td>
            <td>{{ series.initial_force_applied_in_y_direction }}</td>
            <td>{{ series.final_force_in_y_direction }}</td>
            <td>{{ series.initial_force_applied_in_x_direction }}</td>
            <td>{{ series.final_force_in_x_direction }}</td>
            <td>{{ series.num_strands }}</td>
            <td>{{ series.num_layers }}</td>
            <td>{{ series.radius }}</td>
            <td>{{ series.pitch }}</td>
            <td>{{ series.material_thickness }}</td>
            <td>{{ "%.2f"|format(series.weight_kg) if series.weight_kg is not none else "" }}</td>
            <td>{{ "%.2f"|format(series.height_m) if series.height_m is not none else "" }}</td>
            <td>Image TODO</td>
            <td>
                <form action="/api/experiment_series/delete/{{ series.experiment_series_name }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this experiment series?');">
                    <button type="submit">ðŸš«</button>
                </form>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}
